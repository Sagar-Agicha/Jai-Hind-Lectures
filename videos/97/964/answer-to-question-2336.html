<html>
<head>
<title>
	 
      Spoken Tutorial Forums
      
</title>
        <link rel="stylesheet" href="../../../includes/css/bootstrap_forum.min.css" type="text/css" media="screen" charset="utf-8" />
         <link rel="stylesheet" href="../../../includes/css/slick.css" type="text/css" media="screen" charset="utf-8" />
        <link rel="stylesheet" href="../../../includes/css/main_forum.css" type="text/css" media="screen" charset="utf-8" />
        <link rel="stylesheet" href="../../../includes/css/nice-bar.css" type="text/css" media="screen" charset="utf-8" />
      <link rel="stylesheet" href="../../../includes/css/theme.blue.css" type="text/css" media="screen" charset="utf-8" />
</head>
<body>
	 <div id="page-wrapper">
        <div id="header-wrapper">
            <div id="header-inner">
                <nav class="navbar navbar-default" role="navigation">
                    <div class="container">
                        <!-- Brand and toggle get grouped for better mobile display -->
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                              <span class="sr-only">Toggle navigation</span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                            </button>
                            <div class="navbar-brand">
                                <img id="logo" src="../../../includes/images/logo.png">
                                Spoken Tutorial Forums
                                </div>
                        </div>
                        </div> <!-- /.container -->
                </nav>
            </div> <!-- /#header-inner -->
        </div>
        <div id="content-wrapper">
            <div id="content-inner" class="container">
                <div id="content" class="col-lg-12 col-md-12 col-sm-12">
                    
                    <div class="row">
    <div class="question-wrapper col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="question ">
        <div class="title ">
           getting database connection failed
        </div>
        
        <div id="questionNicPanel"></div>
        <div class="body">
            <div><br></div><div><p style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;">&nbsp;I am getting the following error while installing moodle can u please give the solution.</p><p style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;"><br></p><p style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;">Error: Database connection failed</p><p style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;">It is possible that the database is overloaded or otherwise not running properly.</p><p style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;">The site administrator should also check that the database details have been correctly specified in config.php</p><br style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;"><br style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;"><b style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;">Warning</b><span style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(242, 222, 222);">: mysqli::__construct(): (HY000/1045): Access denied for user 'moodle-st'@'localhost' (using password: YES) in&nbsp;</span><b style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;">C:\moodle\server\moodle\lib\dml\mysqli_native_moodle_database.php</b><span style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(242, 222, 222);">&nbsp;on line&nbsp;</span><b style="color: rgb(185, 74, 72); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px;">79</b></div>
        </div>
        <br>
        
        <span class="category">
            <small>
                <a>
                    Moodle-Learning-Management-System
                </a>   
            </small>
        </span>
        
        <span class="tutorial">
            <small>
            <a>
                    Installing-Moodle-on-Local-Server
             </a>       
            </small>
        </span>
        
        <span class="minute_range ">
            <small>
            <a>
                    04-05 min
             </a>       
            </small>
        </span>
        
        <span class="second_range ">
            <small>
                    <a>
                    0-10 sec
                    </a>
            </small>
        </span>
       
        
        <span class="meta">
            <small>
                <i>
                    29-04-20, 6:11 p.m.
                </i>
            </small>
            
            <span class="user">
                ekta.naik@vcet.edu.in
            </span>
        </span>
    </div> <!-- /.question -->
    </div>
</div> 

<h4><u>Answers:</u></h4>
<div id="answerPanelWrapper" style="display:none;">
    <div id="answerNicPanel" style="display:none;"></div>
</div>

<div id="commentPanelWrapper" style="display:none;">
    <div id="commentNicPanel" style="display:none;"></div>
</div>

<div class="row">
    <div class="answer-wrapper col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="answer " id="answer3052">
            
            <div class="body" id="body3052">
                The error says 'Access denied for user 'moodle-st'@'localhost' (using password: YES)'<div><br></div><div>A few points to be taken into consideration are:<br><div>- Have you entered the password for the database user 'moodle-st' correctly while entering database info during installation?</div><div>- And is the user 'moodle-st' granted with the correct permissions for the moodle database?</div><div><br></div><div>Solution can be -</div><div>You can try creating a new database user and a new db as well.</div><div>Commands for Ubuntu OS -</div><div>1] Login to mysql as a 'root' user. In terminal type: sudo mysql -u root -p&nbsp;</div><div>Enter root password.</div><div><br></div><div>2] If not created already, or since you are at an initial phase, you can create database afresh for Moodle:</div><div>mysql&gt; CREATE DATABASE <b>moodle</b> DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</div><div><br></div><div>3] Create a user/password combination with appropriate permissions for the database:</div><div>mysql&gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,CREATE TEMPORARY TABLES,DROP,INDEX,ALTER ON moodle.* TO '<b>moodleuser</b>'@'localhost' IDENTIFIED BY '<b>yourpassword</b>';</div><div><br></div><div>4] Exit from mysql.</div><div><br></div><div>Now, continue with Moodle installation and enter the details for database as set above:</div><div>Database: <b>moodle</b></div><div>Database user: <b>moodleuser</b></div><div>Db password: <i><b>yourpassword</b></i></div><div><i><b><br></b></i></div><div><div>For Windows:</div><div>You need to create a database and a database user first.</div><div><div>- Go to http://localhost/moodle. The language select page should come up and you are away.&nbsp;</div><div>- Data directory is C:\moodledata (or whatever you created)</div><div>- Database is 'moodle' (name of the database you created)</div><div>- Database user is 'root' (unless you created a more restricted user as shown above for your system)</div><div>- Database password is whatever you set installing MySQL</div></div></div><div><br></div><div>Helpful links for Windows OS-</div><div>-&nbsp;https://docs.moodle.org/38/en/Complete_install_packages_for_Windows#Database_configuration</div><div>-&nbsp;https://docs.moodle.org/38/en/Manual_install_on_Windows_7_with_Apache_and_MySQL#Step_7:_Install_Moodle</div><div><i><b><br></b></i></div><div>If you are still facing issues after this, please send screenshots of the error if possible.</div></div><div><br></div><div>A few helpful posts from Moodle forums:</div><div>-&nbsp;https://moodle.org/mod/forum/discuss.php?d=340330</div><div>-&nbsp;https://moodle.org/mod/forum/discuss.php?d=163173</div><div>-&nbsp;https://stackoverflow.com/questions/39094107/moodle-database-connection-failed</div><div><br></div><div>You can also check the database details in config.php file (if it has been generated) located at C:\moodle\server\moodle\config.php.</div><div><br></div><div>Please let me know if you have any further issues.</div>
            </div>
            
            <span class="meta">
                <small>
                    <i>
                        29-04-20, 7:30 p.m.
                    </i>
                </small>
                
                <span class="user">
                    kashmira.n
                </span>
            </span>
        </div> <!-- /.answer -->
        
        <div class="row">
            <div class="comments pull-right col-lg-11 col-md-11 col-sm-11 col-xs-11">
                <!-- displaying comments -->
                
                
                
                <!-- form to add comment -->
      
            </div> <!-- comments -->
        </div> <!-- /.row -->
        <br> <hr>
    </div> <!-- /.answer-wrapper -->
</div> <!-- /.row -->

<div class="row">
    <div class="answer-wrapper col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="answer " id="answer3112">
            
            <div class="body" id="body3112">
                A few more helpful links -&nbsp;<div>-&nbsp;https://docs.moodle.org/38/en/Windows_installation_using_XAMPP#Option_create_the_database</div><div>-&nbsp;https://docs.moodle.org/38/en/Installation_quick_guide#Create_a_database</div><div><br></div><div>A few older version docs which might give you some ideas -&nbsp;</div><div>-&nbsp;https://docs.moodle.org/20/en/Create_Moodle_site_database</div><div>- https://docs.moodle.org/20/en/Windows_installation_using_XAMPP#Create_the_MySQL_database</div><div><br></div>
            </div>
            
            <span class="meta">
                <small>
                    <i>
                        30-04-20, 10:41 p.m.
                    </i>
                </small>
                
                <span class="user">
                    kashmira.n
                </span>
            </span>
        </div> <!-- /.answer -->
        
        <div class="row">
            <div class="comments pull-right col-lg-11 col-md-11 col-sm-11 col-xs-11">
                <!-- displaying comments -->
                
                
                
                <!-- form to add comment -->
      
            </div> <!-- comments -->
        </div> <!-- /.row -->
        <br> <hr>
    </div> <!-- /.answer-wrapper -->
</div> <!-- /.row -->


            <a href="http://forums.spoken-tutorial.org/question/2336/getting database connection failed.replace(' ','-')/ " target="_blank">Click here to reply/comment online</a>
                    
                </div> <!-- /#content -->
            </div> <!-- /#content-inner -->
        </div>
        <div id="footer-wrapper" class="container">
            <div id="footer-inner" class="col-lg-12 col-md-12 col-sm-12">
                <div class="cc">
                    <a class="cc-logo" rel="license">
                        <img src="../../../includes/images/cc-logo-88x31.png" alt="CC logo"> 
                    </a> Spoken Tutorial Forum by <a href="http://www.iitb.ac.in" target="_blank">IIT Bombay</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>
                </div> 
            </div> <!-- /#footer-inner -->
        </div> <!-- /#footer-wrapper -->
    </div> 
</body>
</html>